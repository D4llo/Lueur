<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lueur</title>

    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 115 115%22><text y=%22.9em%22 font-size=%2290%22>üïØÔ∏è</text></svg>">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">

    <style>
        :root {
            --focus: var(--code);
            --links: var(--code);
        }

        html,
        body {
            height: 100%;
        }

        body {
            display: grid;
            grid-template-rows: auto 1fr auto;
            margin: 0 auto;
        }

        ol,
        ul {
            counter-reset: item;
            margin-left: 0;
            padding-left: 0;
        }

        li {
            display: none;
            margin-bottom: 2em;
        }

        li:first-child {
            display: block;
        }

        li::before {
            display: block;
            content: "Question " counter(item) " sur 12";
            counter-increment: item;
            width: 50%;
            text-align: center;
            margin: 0 auto;
            border-bottom: 1px solid var(--code);
            margin-bottom: 1em;
        }

        a {
            text-decoration: underline;
        }

        footer {
            text-align: center;
        }

        @media print {

            html,
            body {
                height: initial;
            }

            body {
                display: initial;
                grid-template-rows: initial;
                margin: 0 auto;
            }

            h1 {
                font-size: 1.5em;
                font-weight: normal;
            }

            li {
                margin-bottom: 0;
                display: block;
                break-inside: avoid;
            }

            li:before {
                display: inline-block;
                width: auto;
                text-align: left;
                margin: 0;
            }

            ol>li:before {
                content: counter(item) ".";
                margin-bottom: 0;
            }

            ul>li:before {
                display: inline-block;
                content: "[" counter(item) "]: ";
                margin-right: 3mm;
            }

            legend {
                display: inline;
                font-weight: normal;
            }

            a {
                text-decoration: none;
            }

            hr {
                border: none;
                border-top: 3px double #333;
                color: #333;
                overflow: visible;
                text-align: center;
                height: 1x;
            }

            hr:after {
                background: #fff;
                content: '@';
                padding: 0 4px;
                position: relative;
                top: -13px;
            }

            footer,
            #result,
            button,
            main p:nth-of-type(2) {
                display: none;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>üïØÔ∏è Lueur</h1>
    </header>
    <main>
        <p>A partir de <a href="http://www.souffrance-et-travail.com/media/formation/ppt/SET-Burn_Out.pptx">l'√©tude</a>
            r√©alis√©e par la psychiatre fran√ßaise <a
                href="https://www.cairn.info/publications-de-Guiho-Bailly-Marie-Pierre--24361.htm">Marie-Pierre
                Guiho-Bailly</a>, <a
                href="https://www.francetvinfo.fr/sante/burn-out-les-douze-signes-qui-doivent-vous-alerter_572561.html">francetv
                info a list√©</a> les
            douze signes qui pr√©c√®dent l'effondrement physique et psychique propre √† un burn out.</p>
        <p>Pour savoir si vous √™tes atteint par ce syndrome des temps modernes, r√©pondez par "OUI" ou par "NON" √† chaque
            phrase.</p>
        <form>
            <ol>
                <li>
                    <fieldset>
                        <legend>Pour x raisons ‚Äì changement de poste, de chef, restructuration, nouvelles missions, etc.
                            ‚Äì vous avez
                            le sentiment de ne plus √™tre aussi efficace au travail.
                        </legend>
                        <div>
                            <label><input name="question1" value="1" id="yes1" type="radio">Oui</label>
                            <label><input name="question1" value="0" id="nop1" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>

                <li>
                    <fieldset>
                        <legend>Vous pr√©sentez des troubles de l'attention, de concentration, de m√©moire. Vous ne
                            trouvez pas vos
                            mots,
                            vous faites des erreurs.
                        </legend>
                        <div>
                            <label><input name="question2" value="1" id="yes2" type="radio">Oui</label>
                            <label><input name="question2" value="0" id="nop2" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Vous compensez avec des horaires √† rallonge pour tenter de retrouver l'efficience
                            ant√©rieure. En
                            vain.
                        </legend>
                        <div>
                            <label><input name="question3" value="1" id="yes3" type="radio">Oui</label>
                            <label><input name="question3" value="0" id="nop3" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Le repos n'est plus r√©parateur. Au r√©veil, au retour d'un week-end ou de vacances, la
                            fatigue
                            revient
                            aussit√¥t. Vos ruminations sur le travail vous emp√™chent de dormir.
                        </legend>
                        <div>
                            <label><input name="question4" value="1" id="yes4" type="radio">Oui</label>
                            <label><input name="question4" value="0" id="nop4" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Contrairement √† une d√©pression, vous n'avez pas le go√ªt √† rien, vous n'√™tes pas triste tout
                            le
                            temps.
                            Mais le travail est votre principale pr√©occupation.
                        </legend>
                        <div>
                            <label><input name="question5" value="1" id="yes5" type="radio">Oui</label>
                            <label><input name="question5" value="0" id="nop5" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Vous vous montrez irritable, vous avez des acc√®s de col√®re. Vous passez facilement du rire
                            aux
                            larmes.
                        </legend>
                        <div>
                            <label><input name="question6" value="1" id="yes6" type="radio">Oui</label>
                            <label><input name="question6" value="0" id="nop6" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Votre entourage a beau vous alerter, vous √™tes dans le d√©ni par rapport √† votre surmenage.
                            Vous
                            vous
                            repliez sur vous, avec un sentiment de solitude grandissant.
                        </legend>
                        <div>
                            <label><input name="question7" value="1" id="yes7" type="radio">Oui</label>
                            <label><input name="question7" value="0" id="nop7" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Vous souffrez de maux de t√™te, de douleurs musculo-squelettiques, de troubles du
                            comportement
                            alimentaire, d'infections virales (ORL) √† r√©p√©titions, de palpitations...
                        </legend>
                        <div>
                            <label><input name="question8" value="1" id="yes8" type="radio">Oui</label>
                            <label><input name="question8" value="0" id="nop8" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Pour tenir le coup, vous avez recours √† des substances psychoactives (alcool, tabac,
                            drogue).
                        </legend>
                        <div>
                            <label><input name="question9" value="1" id="yes9" type="radio">Oui</label>
                            <label><input name="question9" value="0" id="nop9" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Vous ressentez un √©puisement √©motionnel, renforc√© par le d√©ni de l‚Äôencadrement √† l'√©gard de
                            votre
                            situation. Vos t√¢ches se transforment en mission impossible.
                        </legend>
                        <div>
                            <label><input name="question10" value="1" id="yes10" type="radio">Oui</label>
                            <label><input name="question10" value="0" id="nop10" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Vous avez un comportement √† risque, accidentog√®ne.
                        </legend>
                        <div>
                            <label><input name="question11" value="1" id="yes11" type="radio">Oui</label>
                            <label><input name="question11" value="0" id="nop11" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <legend>
                            Bienveillant d‚Äôordinaire, vous devenez cynique √† l‚Äô√©gard de vos "usagers" au travail
                            (patients,
                            clients,
                            public, etc.). Vous travaillez fr√©n√©tiquement mais m√©caniquement.
                        </legend>
                        <div>
                            <label><input name="question12" value="1" id="yes12" type="radio">Oui</label>
                            <label><input name="question12" value="0" id="nop12" type="radio">Non</label>
                        </div>
                    </fieldset>
                </li>
            </ol>
        </form>

        <!-- <section id="result">
            <h2>Si vous r√©pondez "OUI" aux cinq premiers signes</h2>
            <p>Ne passez pas votre chemin. Les cinq premiers sympt√¥mes d√©crits ci-dessus sont d√©j√† significatifs dans la mesure o√π le<em> "</em><em>sommeil non r√©parateur et l'hyperactivit√© compensatrice"</em> au travail sont deux des trois constantes d'un syndrome d'√©puisement professionnel en gestation, selon Marie Pez√©, psychologue sp√©cialiste de la souffrance au travail contact√©e par francetv info. Pour autant, le burn-out <em>"est un processus, et non un √©tat"</em> et son √©volution est<em> "tr√®s lente"</em>, explique Catherine Vasey, auteure de <em>Burn-out : le d√©tecter et le pr√©venir </em>(√©d. Jouvence) dans le magazine <em style="font-size: 15px;"><a href="http://www.psychologies.com/Travail/Souffrance-au-travail/Burn-out/Articles-et-Dossiers/Burn-out-prevenir-l-epuisement-professionnel" target="_blank" rel="noopener" class="ftvi-click--binded" data-click-value="content::link-in-content::article::http://www.psychologies.com/Travail/Souffrance-au-travail/Burn-out/Articles-et-Dossiers/Burn-out-prevenir-l-epuisement-professionnel">Psychologies</a></em>. Autrement dit, il peut √™tre interrompu en cours de route et pr√©sente diff√©rents degr√©s de gravit√©.</p>
            <p>Pour √©valuer plus pr√©cis√©ment votre degr√© d'usure, vous pouvez <a href="http://www.masef.com/scores/burnoutsyndromeechellembi.htm" target="_blank" rel="noopener" class="ftvi-click--binded" data-click-value="content::link-in-content::article::http://www.masef.com/scores/burnoutsyndromeechellembi.htm">effectuer ce test en ligne</a>. Le Malash Burn Out Inventory (MBI), con√ßu en 1981 par des chercheurs am√©ricains et valid√© au niveau international, permet de mesurer, s√©par√©ment, le degr√© d'"√©puisement √©motionnel", de "d√©personnalisation" et d'"accomplissement personnel" au sein de son activit√© professionnelle.</p>
            <p>Car √† ce stade, des sentiments positifs peuvent subsister √† l'√©gard de votre travail et il faut puiser dans ses ressources. <em>"Le principe de base, c'est de ne pas focaliser sur ce qui est stressant, usant"</em>, sugg√®re Catherine Vasey, mais de se concentrer plut√¥t sur ce qui fait sens et apporte de la satisfaction. Lever le pied pour se m√©nager des moments de pause et de d√©tente dans la journ√©e est √©galement essentiel. Objectif, selon la psychologue : <em>"Ne plus terminer une journ√©e de travail en √©tant compl√®tement √©puis√©, au point de ne plus pouvoir s'investir dans sa vie priv√©e. Il n'est pas juste de sacrifier toute son √©nergie au travail."</em></p>
            <h2>Si vous r√©pondez "OUI" jusqu'au dixi√®me signe</h2>
            <p><span>Le processus est bien enclench√©, notamment si vous commencez √† somatiser, en souffrant de maux physiques chroniques. Si vous consultez un m√©decin √† ce sujet, c'est le moment d'aborder le fond du probl√®me. <em>"Quand on sort du d√©ni, on a d√©j√† fait la moiti√© du chemin"</em>, souligne aupr√®s de francetv info Fran√ßois Baumann, m√©decin et auteur de<em> Burn-out, quand le travail rend malade</em> (√©d. Josette Lyon). Un arr√™t de travail temporaire peut √™tre envisag√© pour prendre du recul et enrayer le processus. Le site Souffrance et travail publie la <a href="http://www.souffrance-et-travail.com/infos-utiles/listes/liste-consultations-souffrance-travail/" target="_blank" rel="noopener" class="ftvi-click--binded" data-click-value="content::link-in-content::article::http://www.souffrance-et-travail.com/infos-utiles/listes/liste-consultations-souffrance-travail/">liste des consultations sp√©cialis√©es</a> par d√©partement.<br></span></p>
            <p><span>Des strat√©gies peuvent aussi √™tre mises en place dans votre milieu professionnel. <em>"Vous n'osez pas dire non √† un surcro√Æt de travail alors que vous √™tes d√©j√† d√©bord√© ? Essayez le 'oui, mais plus tard', ou bien 'oui, mais aide-moi'"</em>, sugg√®re Agn√®s Martineau-Arbes, m√©decin du travail, dans <a href="http://www.lexpress.fr/emploi/gestion-carriere/video-burn-out-comment-le-travail-nous-fait-craquer_1316114.html" target="_blank" rel="noopener" class="ftvi-click--binded" data-click-value="content::link-in-content::article::http://www.lexpress.fr/emploi/gestion-carriere/video-burn-out-comment-le-travail-nous-fait-craquer_1316114.html"><em>L'Express</em></a>. Il faut commencer par accepter et reconna√Ætre ses propres limites et apprendre √† d√©l√©guer. Car dans le burn-out, <em>"on est souvent son pire ennemi"</em>, analyse la sp√©cialiste.</span></p>
            <p><span>Catherine Vasey propose quant √† elle d'identifier<em> "</em></span><em>les lieux d'usure"</em> dans le travail afin de s'en extraire. <em>"Ce sont des t√¢ches, des situations ou des personnes qui cr√©ent chez vous un sentiment d‚Äôimpuissance, de lourdeur, de fatigue. Qui vous vident de votre √©nergie."</em> Et vous conduisent directement au signal num√©ro 10 : l'√©puisement √©motionnel, sympt√¥me typique du burn-out.</p>
            <h2>Si vous r√©pondez "OUI" au douzi√®me et dernier signe</h2>
            <p>Attention, vous courez droit √† la catastrophe. Le cynisme est g√©n√©ralement la derni√®re √©tape avant le burn-out. Le m√©decin ne se soucie plus de ses patients, le commercial vend n'importe quoi √† ses clients et l'√©leveur ne s'occupe plus de ses b√™tes. C'est ce que les sp√©cialistes nomment la phase de la "d√©personnalisation" et de la "d√©shumanisation".</p>
            <p><span>Arriv√© √† ce stade, le surmenage est d√©j√† bien install√© et, g√©n√©ralement, l'organisme craque en premier : zona, ulc√®re, accident cardio-vasculaire... Cela peut, dans les cas les plus graves, aller jusqu'√† la mort par exc√®s de travail. Un ph√©nom√®ne baptis√© "karoshi" au Japon. Le suicide est l'autre alternative dramatique du burn-out. </span></p>
            <p>Sur le plan psychique, un grand sentiment de vide vous envahit soudainement, <em>"comme un trou d'air en avion"</em>, d√©peint Agn√®s Martineau-Arbes. Il est alors impossible de retourner travailler et cette incapacit√© peut durer de quelques mois √† plusieurs ann√©es. Il faut alors entamer un long travail de reconstruction, dont les √©tapes sont d√©crites dans une <a href="http://www.inrs.fr/accueil/produits/mediatheque/doc/publications.html?refINRS=TF%20216" target="_blank" rel="noopener" class="ftvi-click--binded" data-click-value="content::link-in-content::article::http://www.inrs.fr/accueil/produits/mediatheque/doc/publications.html?refINRS=TF%20216">r√©cente √©tude</a> de l'Institut national de recherche et de s√©curit√©. S'il est bien accompagn√© (par un m√©decin du travail, un psychologue...), il peut √™tre l'occasion de reconsid√©rer son rapport au travail et au temps. Et d'envisager <a href="/economie/emploi/reconversion-professionnelle/" target="_blank" rel="noopener" class="ftvi-click--binded" data-click-value="content::link-in-content::article::/economie/emploi/reconversion-professionnelle/">une reconversion</a>.</p>
        </section> -->

        <section id="result" style="display: none; justify-content: center;">
            <button type="button" onclick="window.print()">üñ®Ô∏è Imprimer</button>
            <button type="button" onclick="share()">üîó Partager</button>
        </section>
    </main>

    <footer>Fait par <a href="https://github.com/D4llo/">@D4llo</a> - Faites attention √† vous les gens - Consulter est
        une force</footer>
    <script>
        const showResult = () => {
            const result = document.querySelector('#result');
            result.style.display = "flex";
            result.scrollIntoView();
        }

        const showNext = (li) => {
            if (li.nextElementSibling && li.nextElementSibling.style.display !== "block") {
                li.nextElementSibling.style.display = "block";
                li.nextElementSibling.scrollIntoView();
                return;
            }

            if (!li.nextElementSibling) {
                showResult();
            }
        }

        const bindInputShow = input => {
            input.onclick = (e) => showNext(e.target.parentElement.parentElement.parentElement.parentElement)
        }

        document.querySelectorAll("input").forEach(x => {
            x.checked = false;
            bindInputShow(x);
        });

        window.onbeforeprint = event => {
            document.querySelectorAll('input:checked').forEach(input =>
                input.setAttribute("checked", "true")
            );
            document.querySelectorAll('fieldset').forEach(item => {
                item.insertAdjacentHTML("beforebegin", `<span class="fieldset">${item.innerHTML}</span>`);
                item.parentElement.removeChild(item);
            });

            const references = document.createElement("ul")
            references.id = "references"
            document.querySelectorAll('main a').forEach((a, i) => {
                const reference = document.createElement("span");
                reference.textContent = ` [${i + 1}]`;
                a.insertAdjacentElement("afterend", reference);

                const line = document.createElement("li");
                line.textContent = a.href;
                references.appendChild(line);
            })

            const hr = document.createElement("hr")
            hr.id = "hr"
            document.body.appendChild(hr);
            document.body.appendChild(references);
        };

        window.onafterprint = event => {
            document.querySelectorAll('.fieldset').forEach(item => {
                item.insertAdjacentHTML("beforebegin", "<fieldset>" + item.innerHTML + "</fieldset>");
                item.parentElement.removeChild(item);
            });

            document.querySelectorAll("input").forEach(bindInputShow);

            document.querySelectorAll('a + span').forEach(span => {
                span.parentElement.removeChild(span);
            })

            document.body.removeChild(document.querySelector("#hr"));
            document.body.removeChild(document.querySelector("#references"));
        };

        const share = () => {
            const answers = [...document.querySelectorAll('input:checked')].map(input => input.id.slice(0, 1)).join("").toUpperCase();
            const url = new URL(window.location.href);
            url.searchParams.delete("a");
            url.searchParams.append("a", zip(answers));

            // improve idea: custom dialog prompt with custom buttom. a11y?
            const result = prompt("Copy and share the following link:", url.href);
            if (result !== null && result !== "") {
                navigator.clipboard.writeText(url.href).then(() => {
                    console.log('Copying to clipboard was successful!');
                }, (err) => {
                    console.error('Could not copy text: ', err);
                });
            }
        }

        // YYNYYYYYYNNN => Y2NY6N3
        const zip = input => {
            let m = 1;
            const result = [input[0]]
            for (let i = 1; i < input.length; i++) {
                if (input[i] === input[i - 1]) {
                    m += 1;
                    continue;
                }
                if (m != 1) {
                    result.push(m);
                    m = 1;
                    result.push(input[i]);
                    continue;
                }
                result.push(input[i]);
            }
            if (m != 1)
                result.push(m);
            return result.join("")
        }

        const last = array => array[array.length - 1];

        const zip2 = input =>
            input.slice(1).reduce(([acc, m], b) => {
                if (b == last(acc)) {
                    return [acc, m + 1]
                }
                if (m != 1) {
                    return [acc + m + b, 1]
                }
                return [acc + b, m]
                result.push(input[i]);
            }, [input[0], 1])[0]

        // Y 2 => YY
        // Y 7 => YYYYYYY
        const mulc = (c, n) => [...new Array(n)].map(_ => c).join("")

        const isNumber = c => c >= '0' && c <= '9';

        // YYNY6N3 => YYNYYYYYYNNN
        // Y2NY6N3 => YYNYYYYYYNNN
        const unzip = input => {
            let result = "";
            for (let i = 0; i < input.length; i++) {
                if (!isNumber(input[i])) {
                    result += input[i];
                    continue;
                }
                const c = input[i - 1];
                let n = "";
                for (; i < input.length && isNumber(input[i]); i++) {
                    n += input[i];
                }
                i--;
                if (n === "0") {
                    result = result.slice(0, -1);
                    continue;
                }
                result += mulc(c, n - 1);
            }
            return result;
        }

        const binarize = input => [...input].map(c => c == "Y" ? 0 : 1);

        const parameters = Object.fromEntries(window.location.search.slice(1).split("&").map(x => x.split("=")))

        if (parameters["a"]) {
            const answers = binarize(unzip(parameters["a"]));
            document.querySelectorAll('fieldset').forEach(fieldset => {
                if (answers.length === 0) {
                    return;
                }
                const input = fieldset.querySelectorAll("input[type=radio]")[answers.shift()]
                input.checked = true;
                showNext(fieldset.parentElement);
            })
        }

    </script>

</body>

</html>
